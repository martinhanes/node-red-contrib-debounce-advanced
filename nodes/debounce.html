<script type="text/x-red" data-template-name="debounce-leading-trailing">
    <div class="form-row">
      <label for="node-input-time"><i class="fa fa-clock-o"></i> Time</label>
      <input type="text" id="node-input-time" placeholder="Time" style="width:170px !important">
    </div>

    <div class="form-row">
      <label for="node-input-timeunit"><i class="fa fa-wrench"></i> Time unit</label>
      <select id="node-input-timeunit" style="width:170px !important">
        <option value="ms">milliseconds</option>
        <option value="s">seconds</option>
        <option value="m">minutes</option>
      </select>
    </div>

    <div class="form-row">
      <label for="node-input-debouncetype"><i class="fa fa-wrench"></i> Type</label>
      <select id="node-input-debouncetype" style="width:170px !important">
        <option value="leading">Leading (immediate)</option>
        <option value="trailing">Trailing (delayed)</option>
      </select>
    </div>

    <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> <span data-i18n="node-red:common.label.name"></span></label>
      <input type="text" id="node-input-name" data-i18n="[placeholder]node-red:common.label.name">
    </div>
</script>

<script type="text/x-red" data-help-name="debounce-leading-trailing">
    <p>Debounce</p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('debounce-leading-trailing', {
        category: 'function',
        color: "#E6E0F8",
        defaults: {
            time: {value: 5, required: true, validate: RED.validators.number()},
            timeunit: {value: "s", required: true, validate: RED.validators.regex(/^ms$|^s$|^m$/)},
            debouncetype: {value: "leading", required: true, validate: RED.validators.regex(/^leading$|^trailing$/)},
            name: {value: ""}
        },
        inputs: 1,
        outputs: 1,
        icon: "timer.png",
        label: function () {
            return (this.name + " " + this.time + " " + this.timeunit) || "debounce";
        }
    });
</script>
